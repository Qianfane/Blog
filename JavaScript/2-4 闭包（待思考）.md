### 一、理解闭包

**闭包是什么**

当一个嵌套的内部(子)函数引用了嵌套的外部(父)函数的变量(函数)时, 就产生了闭包。我们可以这么理解：闭包是嵌套的内部函数。

**闭包的产生条件**

- 函数嵌套

- 内部函数引用了外部函数的数据(变量/函数)

**闭包的生命周期**

- **产生**：在嵌套内部函数定义执行完时就产生了(不是在调用)

- **死亡**：在嵌套的内部函数成为垃圾对象时

## 二、闭包的作用、缺点及解决

**作用**

- 使用函数内部的变量在函数执行完后, 仍然存活在内存中(延长了局部变量的生命周期) 
  
- 让函数外部可以操作(读写)到函数内部的数据(变量/函数) 
  

**缺点**

- 函数执行完后, 函数内的局部变量没有释放, 占用内存时间会变长 
- 容易造成内存泄露

**解决**

- 能不用闭包就不用
- 及时释放

## 三、闭包的应用（思考）

常见的闭包有以下两种形式：

- 将函数作为另一个函数的返回值
- 将函数作为实参传递给另一个函数调用

闭包的应用：**自定义JS模块**

- 具有特定功能的js文件
- 将所有的数据和功能都封装在一个函数内部(私有的) 只
- 向外暴露一个包信n个方法的对象或函数
- 模块的使用者, 只需要通过模块暴露的对象调用方法来实现对应的功能