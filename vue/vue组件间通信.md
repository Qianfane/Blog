# vue 组件间通信（第一版）

## 1. 通信种类

从组件之间的关系方面讲，组件间通信有以下 4 种。

1. 父组件向子组件通信
2. 子组件向父组件通信
3. 隔代组件间通信
4. 兄弟组件间通信

## 2. 实现通信方式

`vue` 组件间通信共计 5 种方式，如下：

1. `props`
2. `vue` 自定义事件
3. 消息订阅与发布
4. `slot`
5. `vuex`

> 顺便了解一下，组件间通信有两个基本原则。一是 不要在子组件中直接修改父组件地状态数据；二是 数据在哪，更新数据的行为（函数）就应该定义在哪。

## 3. 方式1：props

`props` 通过标签属性来实现通信。

1）通过**一般属性**实现父向子通信

2）通过**函数属性**实现子向父通信

3）缺点：隔代组件和兄弟组件间通信比较麻烦

​    隔代组件通信呢，数据需要层层传递；而兄弟组件间通信呢，则需要借助父组件才能实现通信

## 4. 方式2：vue 自定义事件

1）`vue` 内置实现，可以代替函数类型的 `props`

2) 缺点：只适合于**子向父**通信 

## 5. 方式3：消息订阅与发布机制

1）需要引入消息订阅与发布的实现库，如：`pubsub.js`

​	a. 订阅消息：`PubSub.subscribe('msg', function(msg, data))`

​	b. 发布消息：`PubSub.publish('msg', data)`

> 首先我们需要订阅消息，使用的是 `PubSub` 的 `subscribe` 方法，这个方法有两个参数，第一个是消息名，第二个是一个回调函数；
>
> 然后呢我们发布消息，使用的是 `PubSub` 的 `publish` 方法，这个方法也有两个参数，第一个同样是消息名，第二个就是组件间传递的数据了。

2）优点：此方式可以实现任意*关系*组件间的通信

## 6. 方式4：vuex

1）是什么：`vuex` 是 `vue` 官方提供的集中式管理 `vue` 多组件共享状态数据的 `vue` 插件。

> 是 `vue` 中专门用来做状态管理的插件，做状态管理实际上就可以进行组价间通信了。

2）优点：对组件间关系没有限制，且比 `PubSub` 库管理更集中，更方便

## 7. 方式5：slot

1）是什么：专门用来实现父向子传递 带数据的标签

2）注意：通信的标签模板是在父组件中解析好后再传递给子组件的



























